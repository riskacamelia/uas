"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commits_shared_use-tree-pane_tsx-u-59d336"],{73435:(e,t,i)=>{i.d(t,{QC:()=>h,s2:()=>m,wH:()=>a,xY:()=>f});var n=i(26940);function r(e,t){var i=function(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t,0);return i.get?i.get.call(e):i.value}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){return e.startsWith(t)&&e!==t?-1:t.startsWith(e)&&e!==t?1:e<t?-1:+(e>t)}function o(e,t){return a(e.name,t.name)}function s(e,t){return a(e.fileName,t.fileName)}function c(e){return e.diff}let FileNode=class FileNode{constructor(e){l(this,"diff",void 0),l(this,"filePath",void 0),l(this,"fileName",void 0),l(this,"directoryParts",void 0),this.diff=e,this.filePath=e.path;let t=this.filePath.split("/");this.fileName=t[t.length-1],this.directoryParts=t.slice(0,t.length-1)}};var d=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e){let t=r(this,d).get(e);if(!t){let i=this.path?`${this.path}/`:"";t=new DirectoryNode(e,`${i}${e}`),this.directories.push(t),r(this,d).set(e,t)}return t}sort(){for(let e of(this.directories.sort(o),this.files.sort(s),this.directories))e.sort()}getOrderedDiffs(){let e=this.files.map(c);for(let t of this.directories)e.push(...t.getOrderedDiffs());return e}constructor(e,t){l(this,"directories",[]),l(this,"files",[]),function(e,t,i){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,i)}(this,d,{writable:!0,value:new Map}),l(this,"name",void 0),l(this,"path",void 0),this.name=e,this.path=t}};function f(e){let t=new DirectoryNode("","");for(let i of e.map(e=>new FileNode(e))){let e=t;for(let t of i.directoryParts)e=e.getOrCreateDirectory(t);e.files.push(i)}return t.sort(),t}function h(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let i=t?.lastIndexOf(".");return t?!i||i<0?n.F7:`.${t.substring(i+1)}`:""}function m(e){let t={};return e.map(e=>{let i=h(e.path);void 0!==t[i]?t[i]+=1:t[i]=1}),t}},4203:(e,t,i)=>{i.d(t,{U:()=>c});var n=i(21728),r=i(60039),l=i(97665),a=i(94747),o=i(80804),s=i(7799);function c(e){let t,i,r,s,c=(0,n.c)(10),{onSuccess:f,onError:h}=e,m=(0,l.jE)();return c[0]!==m?(t=async e=>{m.setQueryData((0,o.nZ)(),t=>({...t,...e}))},c[0]=m,c[1]=t):t=c[1],c[2]!==f?(i=()=>{f()},c[2]=f,c[3]=i):i=c[3],c[4]!==h?(r=e=>{h(e)},c[4]=h,c[5]=r):r=c[5],c[6]!==t||c[7]!==i||c[8]!==r?(s={mutationFn:d,onMutate:t,onSuccess:i,onError:r},c[6]=t,c[7]=i,c[8]=r,c[9]=s):s=c[9],(0,a.n)(s)}async function d(e){let{commentsPreference:t,lineSpacing:i,splitPreference:n}=e;if(!(0,s.M3)())return;let l={};t&&(l={...l,commentsPreference:t}),i&&(l={...l,lineSpacing:i}),n&&(l={...l,diff:n});let a=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:l}),o=await a.json();if(a.ok)return o;throw Error(o.error||"Unknown error occurred",{cause:a.status})}},39419:(e,t,i)=>{i.d(t,{sI:()=>n});let n={Visible:"visible",Collapsed:"collapsed"}},11251:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(96540);function r({focusRowRef:e,mouseRowRef:t}){let[i,r]=n.useState(!1);return n.useEffect(()=>{if(e.current&&t.current){let i=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{i()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{i()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),i}},14103:(e,t,i)=>{i.d(t,{L:()=>r});var n=i(96540);function r(e){(0,n.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},321:(e,t,i)=>{i.d(t,{q:()=>m});var n=i(74848),r=i(63869),l=i(68415),a=i(80663),o=i(96540),s=i(96235),c=i(60039);async function d(e,t){if(!t)return;let i=new FormData;i.set("file_tree_visible",e?"true":"false"),(0,c.DI)((0,s.h6D)(t),{method:"PUT",body:i,headers:{Accept:"application/json"}})}let f={sm:l.Gy.small,md:l.Gy.medium,lg:l.Gy.large},h={size:"medium",mobileBreakpoint:"md"};function m(e,t,i,s){let c={...h,...s},[m]=(0,a.I)(()=>!1,!0,[]),u=(0,o.useRef)(null),p=(0,o.useRef)(null),x=f[c.mobileBreakpoint??"md"],[g,y]=(0,o.useState)(t),[j,b]=(0,o.useState)(!1),v=(0,o.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(b(!0),requestAnimationFrame(()=>p.current?.focus())):(y(!0),d(!0,i),requestAnimationFrame(()=>u.current?.focus()))},[x,i]),S=(0,o.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(b(!1),requestAnimationFrame(()=>p.current?.focus())):(y(!1),d(!1,i),requestAnimationFrame(()=>u.current?.focus()))},[x,i]),_=(0,o.useMemo)(()=>(0,n.jsx)(r.L,{expanded:g,alignment:"left",ariaLabel:g?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:u,onToggleExpanded:()=>{g?S():v()},className:`d-none d-${c.mobileBreakpoint}-flex position-relative`,size:c.size}),[g,e,c.mobileBreakpoint,c.size,S,v]),N=(0,o.useMemo)(()=>(0,n.jsx)(r.L,{expanded:j,alignment:"left",ariaLabel:j?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:p,onToggleExpanded:()=>{j?S():v()},className:`d-${c.mobileBreakpoint}-none position-relative`,size:c.size}),[j,e,c.mobileBreakpoint,c.size,S,v]);return{splitPagePaneHidden:m&&!t,splitPageContentHidden:{narrow:j,regular:!1},isTreeExpanded:g,isMobileTreeExpanded:j,expandTree:v,collapseTree:S,treeToggleElement:(0,o.useMemo)(()=>(0,n.jsxs)(n.Fragment,{children:[N,_]}),[N,_]),treeToggleRef:u}}},54779:(e,t,i)=>{i.d(t,{$:()=>o});var n=i(74848),r=i(38621),l=i(15385),a=i(64979);let o=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.l.Divider,{}),(0,n.jsx)(a.t,{eventContext:{prx:!0},leadingVisual:(0,n.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},92032:(e,t,i)=>{i.d(t,{oj:()=>S,ZH:()=>y});var n=i(74848),r=i(21728),l=i(38621),a=i(96540),o=i(42522),s=i(34614),c=i(55864),d=i(99987),f=i(73435),h=i(58990),m=i(11251),u=i(84483),p=i(96679);let x={"file-tree-row":"DiffFileTree-module__file-tree-row--yr73E"},g=(0,a.memo)(function(e){let t,i=(0,r.c)(2),{changeType:l}=e;return i[0]!==l?(t=(0,n.jsx)(h.E,{status:l}),i[0]=l,i[1]=t):t=i[1],t});g.displayName="FileStatusIconItem";let y=(0,a.memo)(function(e){let t,i,d,f,h,u,y,j,b,v=(0,r.c)(35),{file:S,depth:_,hash:N,onSelect:w}=e,C=(0,a.useRef)(null),F=(0,a.useRef)(null),D=`#diff-${S.diff.pathDigest}`;v[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:C,mouseRowRef:C},v[0]=t):t=v[0];let E=(0,m.Z)(t),I=S.diff.totalCommentsCount??0,P=S.diff.highestAnnotationLevel,T=null,k=S.fileName??"This file";switch(I>0&&(k+=` has ${I<10?I:"9+"} ${I>1?"comments":"comment"}`),P){case"WARNING":{let e;k+=`${I>0?" and":""} has warning annotations`,v[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,n.jsx)(l.AlertIcon,{})}),v[1]=e):e=v[1],T=e;break}case"NOTICE":{let e;k+=`${I>0?" and":""} has notice annotations`,v[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-default",children:(0,n.jsx)(l.InfoIcon,{})}),v[2]=e):e=v[2],T=e;break}case"FAILURE":{let e;k+=`${I>0?" and":""} has failure annotations`,v[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,n.jsx)(l.XCircleFillIcon,{})}),v[3]=e):e=v[3],T=e}}v[4]!==S.diff.pathDigest||v[5]!==N?(i=()=>{if(C.current&&S.diff.pathDigest===N){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=C.current.offsetTop,i=p.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},d=[S.diff.pathDigest,N],v[4]=S.diff.pathDigest,v[5]=N,v[6]=i,v[7]=d):(i=v[6],d=v[7]),(0,a.useEffect)(i,d),v[8]!==D||v[9]!==S.diff||v[10]!==w?(f=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(C?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),w?.(S.diff),F?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(D,"_blank");return}w?.(S.diff),F?.current?.click()}},v[8]=D,v[9]=S.diff,v[10]=w,v[11]=f):f=v[11];let $=f,W=S.fileName??"";v[12]!==D||v[13]!==W?(h=(0,n.jsx)(s.A,{href:D,muted:!0,ref:F,role:"presentation",className:"fgColor-default",tabIndex:-1,children:W}),v[12]=D,v[13]=W,v[14]=h):h=v[14];let A=h,R=S.diff.pathDigest===N;return v[15]!==S.diff.changeType?(u=(0,n.jsx)(c.G.LeadingVisual,{children:(0,n.jsx)(g,{changeType:S.diff.changeType})}),v[15]=S.diff.changeType,v[16]=u):u=v[16],v[17]!==A||v[18]!==W||v[19]!==E?(y=E?(0,n.jsx)(o.m,{text:W,direction:"ne",children:A}):A,v[17]=A,v[18]=W,v[19]=E,v[20]=y):y=v[20],v[21]!==T||v[22]!==P||v[23]!==I?(j=(!!I||P)&&(0,n.jsx)(c.G.TrailingVisual,{children:(0,n.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!I&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.CommentIcon,{}),(0,n.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:I<10?I:"9+"})]}),T]})}),v[21]=T,v[22]=P,v[23]=I,v[24]=j):j=v[24],v[25]!==_||v[26]!==S.diff.path||v[27]!==S.diff.pathDigest||v[28]!==$||v[29]!==k||v[30]!==R||v[31]!==u||v[32]!==y||v[33]!==j?(b=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.G.Item,{defaultExpanded:!0,"aria-label":k,"aria-level":_,current:R,id:S.diff.path,onSelect:$,ref:C,className:x["file-tree-row"],children:[u,y,j]},S.diff.pathDigest)}),v[25]=_,v[26]=S.diff.path,v[27]=S.diff.pathDigest,v[28]=$,v[29]=k,v[30]=R,v[31]=u,v[32]=y,v[33]=j,v[34]=b):b=v[34],b});function j(e){let t,i,l,o,s,f,h,u,p,x,g,y,S=(0,r.c)(43);S[0]!==e?({directory:t,renderPattern:l,depth:o,leadingPath:s,...i}=e,S[0]=e,S[1]=t,S[2]=i,S[3]=l,S[4]=o,S[5]=s):(t=S[1],i=S[2],l=S[3],o=S[4],s=S[5]);let _=void 0===o?0:o,N=void 0===s?"":s,w=N?`${N}/`:"",C=a.useRef(null),F=a.useRef(null);S[6]===Symbol.for("react.memo_cache_sentinel")?(f={focusRowRef:F,mouseRowRef:C},S[6]=f):f=S[6];let D=(0,m.Z)(f);if(!t.files.length&&1===t.directories.length){let e,r;if(S[7]!==_||S[8]!==t.directories||S[9]!==t.name||S[10]!==i||S[11]!==w||S[12]!==l){let r;S[14]!==_||S[15]!==t.name||S[16]!==i||S[17]!==w||S[18]!==l?(r=e=>(0,n.jsx)(j,{depth:0===_?1:_,directory:e,leadingPath:`${w}${t.name}`,renderPattern:l,...i},e.path),S[14]=_,S[15]=t.name,S[16]=i,S[17]=w,S[18]=l,S[19]=r):r=S[19],e=t.directories.map(r),S[7]=_,S[8]=t.directories,S[9]=t.name,S[10]=i,S[11]=w,S[12]=l,S[13]=e}else e=S[13];return S[20]!==e?(r=(0,n.jsx)(n.Fragment,{children:e}),S[20]=e,S[21]=r):r=S[21],r}S[22]!==_||S[23]!==t||S[24]!==i||S[25]!==l?(h=function(){return"traditional"===l?(0,n.jsx)(b,{directory:t,depth:_,renderPattern:l,...i}):(0,n.jsx)(v,{directory:t,depth:_,renderPattern:l,...i})},S[22]=_,S[23]=t,S[24]=i,S[25]=l,S[26]=h):h=S[26];let E=h;if(0===_){let e;return S[27]!==E?(e=E(),S[27]=E,S[28]=e):e=S[28],e}S[29]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(c.G.LeadingVisual,{children:(0,n.jsx)(c.G.DirectoryIcon,{})}),S[29]=u):u=S[29];let I=`${w}${t.name}`;return S[30]!==I?(p=(0,n.jsx)("span",{ref:C,children:I}),S[30]=I,S[31]=p):p=S[31],S[32]!==t.name||S[33]!==w||S[34]!==D?(x=D&&(0,n.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:F,"aria-label":`${w}${t.name}`,open:!0,direction:"ne"}),S[32]=t.name,S[33]=w,S[34]=D,S[35]=x):x=S[35],S[36]!==E?(g=(0,n.jsx)(c.G.SubTree,{children:E()}),S[36]=E,S[37]=g):g=S[37],S[38]!==t.path||S[39]!==p||S[40]!==x||S[41]!==g?(y=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.G.Item,{ref:F,defaultExpanded:!0,id:t.path,children:[u,p,x,g]},t.path)}),S[38]=t.path,S[39]=p,S[40]=x,S[41]=g,S[42]=y):y=S[42],y}let b=(0,a.memo)(function(e){let t,i,l,a,o,s,c,d=(0,r.c)(20);d[0]!==e?({directory:t,fileNodeRenderer:i,renderPattern:a,depth:o,...l}=e,d[0]=e,d[1]=t,d[2]=i,d[3]=l,d[4]=a,d[5]=o):(t=d[1],i=d[2],l=d[3],a=d[4],o=d[5]);let f=void 0===o?0:o;if(d[6]!==f||d[7]!==t.directories||d[8]!==t.files||d[9]!==i||d[10]!==l||d[11]!==a){let e,r=t.files.map(_).concat(t.directories.map(N));r.sort(w),d[13]!==f||d[14]!==i||d[15]!==l||d[16]!==a?(e=e=>"file"!==e.pathType?(0,n.jsx)(j,{depth:f+1,directory:e.node,fileNodeRenderer:i,renderPattern:a,...l},e.path):i?i({...l,file:e.node,depth:f+1}):(0,n.jsx)(y,{depth:f+1,file:e.node,...l},e.path),d[13]=f,d[14]=i,d[15]=l,d[16]=a,d[17]=e):e=d[17],s=r.map(e),d[6]=f,d[7]=t.directories,d[8]=t.files,d[9]=i,d[10]=l,d[11]=a,d[12]=s}else s=d[12];return d[18]!==s?(c=(0,n.jsx)(n.Fragment,{children:s}),d[18]=s,d[19]=c):c=d[19],c});function v(e){let t,i,l,a,o,s,c=(0,r.c)(21);c[0]!==e?({directory:t,depth:l,...i}=e,c[0]=e,c[1]=t,c[2]=i,c[3]=l):(t=c[1],i=c[2],l=c[3]);let d=void 0===l?0:l;if(c[4]!==d||c[5]!==t.files||c[6]!==i){let e;c[8]!==d||c[9]!==i?(e=e=>(0,n.jsx)(y,{depth:d+1,file:e,...i},e.filePath),c[8]=d,c[9]=i,c[10]=e):e=c[10],a=t.files.map(e),c[4]=d,c[5]=t.files,c[6]=i,c[7]=a}else a=c[7];if(c[11]!==d||c[12]!==t.directories||c[13]!==i){let e;c[15]!==d||c[16]!==i?(e=e=>(0,n.jsx)(j,{depth:d+1,directory:e,...i},e.path),c[15]=d,c[16]=i,c[17]=e):e=c[17],o=t.directories.map(e),c[11]=d,c[12]=t.directories,c[13]=i,c[14]=o}else o=c[14];return c[18]!==a||c[19]!==o?(s=(0,n.jsxs)(n.Fragment,{children:[a,o]}),c[18]=a,c[19]=o,c[20]=s):s=c[20],s}let S=(0,a.memo)(function(e){let t,i,l,o,s,d,h,m,x,g,y,b=(0,r.c)(20);b[0]!==e?({diffs:i,fileNodeRenderer:l,renderPattern:s,className:t,...o}=e,b[0]=e,b[1]=t,b[2]=i,b[3]=l,b[4]=o,b[5]=s):(t=b[1],i=b[2],l=b[3],o=b[4],s=b[5]),b[6]!==i?(d=(0,f.xY)(i),b[6]=i,b[7]=d):d=b[7];let v=d,[S,_]=a.useState("");b[8]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{_(((0,u.pd)(p.fV.hash??"")??"").replace("diff-",""))},b[8]=h):h=b[8];let N=h;return b[9]===Symbol.for("react.memo_cache_sentinel")?(m=()=>(window.addEventListener("hashchange",N),N(),()=>{window.removeEventListener("hashchange",N)}),x=[N],b[9]=m,b[10]=x):(m=b[9],x=b[10]),(0,a.useEffect)(m,x),b[11]!==l||b[12]!==o||b[13]!==v||b[14]!==S||b[15]!==s?(g=(0,n.jsx)(j,{directory:v,fileNodeRenderer:l,renderPattern:s,...o,hash:S}),b[11]=l,b[12]=o,b[13]=v,b[14]=S,b[15]=s,b[16]=g):g=b[16],b[17]!==t||b[18]!==g?(y=(0,n.jsx)(c.G,{"aria-label":"File Tree",className:t,children:g}),b[17]=t,b[18]=g,b[19]=y):y=b[19],y});try{y.displayName||(y.displayName="File")}catch{}try{j.displayName||(j.displayName="Directory")}catch{}try{b.displayName||(b.displayName="TraditionalDirectoryRendering")}catch{}try{v.displayName||(v.displayName="GroupedDirectoryRendering")}catch{}try{S.displayName||(S.displayName="DiffFileTree")}catch{}function _(e){return{path:e.filePath,pathType:"file",node:e}}function N(e){return{path:e.path,pathType:"directory",node:e}}function w(e,t){return(0,f.wH)(e.path,t.path)}},26940:(e,t,i)=>{i.d(t,{kF:()=>x,F7:()=>p});var n,r=i(74848),l=i(21728),a=i(38621),o=i(9591),s=i(10569),c=i(87330),d=i(63867),f=i(15385),h=i(96540),m=i(34164);let u={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP",filterMaxHeight:"FileFilter-module__filterMaxHeight--TgM5t"},p="No extension";function x({filterSize:e="medium",filterText:t,onFilterTextChange:i,fileExtensions:n,unselectedFileExtensions:l,onFilterChange:d,additionalFilterGroups:x}){n=n??{},l=l??new Set;let[g,y]=(0,h.useState)(t),j=(e,t)=>{d?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},b=Object.keys(n).filter(e=>e!==p).sort(),v=e=>!l.has(e),S=!!n[p];return(0,r.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,r.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,m.$)("small"===e&&u.filterMaxHeight),value:g,onChange:e=>{y(e.target.value),i?.(e.target.value)}}),(0,r.jsxs)(s.W,{children:[(0,r.jsx)(s.W.Anchor,{children:(0,r.jsx)(c.K,{"aria-label":"Filter options",icon:a.SlidersIcon,className:"flex-shrink-0",size:e})}),(0,r.jsx)(s.W.Overlay,{children:(0,r.jsxs)(f.l,{children:[(0,r.jsxs)(f.l.Group,{selectionVariant:"multiple",children:[(0,r.jsx)(f.l.GroupHeading,{children:"File extensions"}),b.map(e=>{let t=v(e);return(0,r.jsx)(f.l.Item,{selected:t,onSelect:()=>j(!t,e),children:`${e} (${n[e]})`},e)}),S&&(0,r.jsx)(f.l.Item,{selected:v(p),onSelect:()=>j(!v(p),p),children:`${p} (${n[p]})`},p)]}),x]})})]})]})}try{(n=function(e){let t,i,n,f,h,p=(0,l.c)(9),{filterText:x,onFilterTextChange:g}=e;return p[0]!==g?(t=e=>g?.(e.target.value),p[0]=g,p[1]=t):t=p[1],p[2]!==x||p[3]!==t?(i=(0,r.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",value:x,onChange:t}),p[2]=x,p[3]=t,p[4]=i):i=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(s.W.Anchor,{children:(0,r.jsx)(c.K,{"aria-label":"Filter options",icon:a.SlidersIcon,className:"flex-shrink-0"})}),p[5]=n):n=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsxs)(s.W,{children:[n,(0,r.jsx)(s.W.Overlay,{className:(0,m.$)(u.filterLoadingHeight),children:(0,r.jsx)("div",{className:(0,m.$)("d-flex","flex-column","flex-justify-center","flex-items-center",u.filterLoadingHeight),children:(0,r.jsx)(d.A,{size:"medium"})})})]}),p[6]=f):f=p[6],p[7]!==i?(h=(0,r.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[i,f]}),p[7]=i,p[8]=h):h=p[8],h}).displayName||(n.displayName="FileFilterLoading")}catch{}try{x.displayName||(x.displayName="FileFilterShared")}catch{}},86388:(e,t,i)=>{i.d(t,{G:()=>A});var n=i(74848),r=i(21728),l=i(38621),a=i(10569),o=i(15385),s=i(34164),c=i(84217),d=i(55847),f=i(98939),h=i(96540),m=i(7799),u=i(96235),p=i(25772),x=i(60039);function g(e){return!e.dismissed}function y(e){return 0===(function(){let e,t,i=(0,r.c)(5),n=(0,p.B)();if(!n){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[0]=e):e=i[0],e}i[1]!==n.userNotices?(e=n.userNotices??[],i[1]=n.userNotices,i[2]=e):e=i[2];let l=e;return i[3]!==l?(t=l.filter(g),i[3]=l,i[4]=t):t=i[4],t})().filter(t=>t.name===e).length}var j=i(4203);let b="compact_diff_lines";function v(){let e,t,i,l,a,o,s,p,g,v,N,w,C,F=(0,r.c)(22),D=y(b),{dismissNotice:E}=function(e){let t,i,n=(0,r.c)(5),l=y(e);n[0]!==l||n[1]!==e?(t=()=>{(0,m.M3)()&&!l&&(0,x.DI)((0,u.VB1)({noticeName:e}),{method:"POST"})},n[0]=l,n[1]=e,n[2]=t):t=n[2];let a=t;return n[3]!==a?(i={dismissNotice:a},n[3]=a,n[4]=i):i=n[4],i}(b);F[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:_,onError:S},F[0]=e):e=F[0];let{mutate:I}=(0,j.U)(e),[P,T]=(0,h.useState)(!0);F[1]!==E||F[2]!==I?(t=()=>{I({lineSpacing:"compact"}),T(!1),E()},F[1]=E,F[2]=I,F[3]=t):t=F[3];let k=t;F[4]!==E?(i=()=>{T(!1),E()},F[4]=E,F[5]=i):i=F[5];let $=i;return D?null:(F[6]===Symbol.for("react.memo_cache_sentinel")?(l={top:"60px",right:"-4px"},F[6]=l):l=F[6],F[7]===Symbol.for("react.memo_cache_sentinel")?(a={minWidth:"260px",width:"40%"},F[7]=a):a=F[7],F[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(c.A,{sx:{fontSize:2},as:"h2",children:"Customizable line height"}),s=(0,n.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),F[8]=o,F[9]=s):(o=F[8],s=F[9]),F[10]===Symbol.for("react.memo_cache_sentinel")?(p={flexShrink:0,flexGrow:1},F[10]=p):p=F[10],F[11]!==k?(g=(0,n.jsx)(d.Q,{onClick:k,sx:p,children:"Enable compact line height"}),F[11]=k,F[12]=g):g=F[12],F[13]===Symbol.for("react.memo_cache_sentinel")?(v={color:"accent.fg",flexGrow:1},F[13]=v):v=F[13],F[14]!==$?(N=(0,n.jsx)(d.Q,{onClick:$,variant:"invisible",sx:v,alignContent:"center",children:"Dismiss"}),F[14]=$,F[15]=N):N=F[15],F[16]!==N||F[17]!==g?(w=(0,n.jsxs)(f.A.Content,{className:"d-flex flex-column gap-2",sx:a,children:[o,s,(0,n.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[g,N]})]}),F[16]=N,F[17]=g,F[18]=w):w=F[18],F[19]!==P||F[20]!==w?(C=(0,n.jsx)(f.A,{open:P,caret:"top-right",sx:l,children:w}),F[19]=P,F[20]=w,F[21]=C):C=F[21],C)}function S(){}function _(){}try{v.displayName||(v.displayName="DiffCompactLinesPopover")}catch{}var N=i(80804),w=i(97665);function C(e){let t,i,l,a,s,c=(0,r.c)(16),{lineSpacingPreferenceAvailable:d,onUpdateWhitespace:f,reloadOnChange:h}=e,m=void 0===d||d,u=void 0!==h&&h,{data:p}=(0,N.Pe)();c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:D,onError:F},c[0]=t):t=c[0];let{mutate:x}=(0,j.U)(t),g=(0,w.jE)();c[1]!==p||c[2]!==f||c[3]!==g||c[4]!==u?(i=()=>{p&&(g.setQueryData((0,N.nZ)(),e=>({...e,hideWhitespace:!p.hideWhitespace})),(0,N.bJ)("w",p.hideWhitespace?"0":"1"),u?window.location.reload():f?.(!p.hideWhitespace))},c[1]=p,c[2]=f,c[3]=g,c[4]=u,c[5]=i):i=c[5];let y=i;return p?(c[6]!==p.hideWhitespace||c[7]!==y?(l=(0,n.jsx)(o.l.Item,{selected:p.hideWhitespace,onSelect:y,children:"Hide whitespace"}),c[6]=p.hideWhitespace,c[7]=y,c[8]=l):l=c[8],c[9]!==p.lineSpacing||c[10]!==m||c[11]!==x?(a=m&&(0,n.jsx)(o.l.Item,{selected:"compact"===p.lineSpacing,onSelect:()=>x({lineSpacing:"compact"===p.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[9]=p.lineSpacing,c[10]=m,c[11]=x,c[12]=a):a=c[12],c[13]!==l||c[14]!==a?(s=(0,n.jsxs)(o.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[l,a]}),c[13]=l,c[14]=a,c[15]=s):s=c[15],s):null}function F(){}function D(){}try{C.displayName||(C.displayName="DiffLinePresentationToggles")}catch{}function E(e){let t,i,l,a,s,c,d,f=(0,r.c)(17),{reloadOnChange:h}=e,m=void 0!==h&&h,{data:u}=(0,N.Pe)(),p=u?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:P,onError:I},f[0]=t):t=f[0];let{mutate:x}=(0,j.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(o.l.GroupHeading,{children:"Layout"}),f[1]=i):i=f[1];let g="unified"===p;f[2]!==m||f[3]!==x?(l=()=>{x({splitPreference:"unified"}),(0,N.bJ)("diff","unified"),m&&window.location.reload()},f[2]=m,f[3]=x,f[4]=l):l=f[4],f[5]!==g||f[6]!==l?(a=(0,n.jsx)(o.l.Item,{selected:g,onSelect:l,children:"Unified"}),f[5]=g,f[6]=l,f[7]=a):a=f[7];let y="split"===p;return f[8]!==m||f[9]!==x?(s=()=>{x({splitPreference:"split"}),(0,N.bJ)("diff","split"),m&&window.location.reload()},f[8]=m,f[9]=x,f[10]=s):s=f[10],f[11]!==y||f[12]!==s?(c=(0,n.jsx)(o.l.Item,{selected:y,onSelect:s,children:"Split"}),f[11]=y,f[12]=s,f[13]=c):c=f[13],f[14]!==a||f[15]!==c?(d=(0,n.jsxs)(o.l.Group,{selectionVariant:"single",children:[i,a,c]}),f[14]=a,f[15]=c,f[16]=d):d=f[16],d}function I(){}function P(){}try{E.displayName||(E.displayName="DiffViewPreferenceToggle")}catch{}var T=i(39419);function k(){let e,t,i,l,a=(0,r.c)(8),{data:s}=(0,N.Pe)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:W,onError:$},a[0]=e):e=a[0];let{mutate:c}=(0,j.U)(e);if(!s)return null;let d=s.commentsPreference===T.sI.Collapsed;return a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(o.l.Divider,{}),a[1]=t):t=a[1],a[2]!==d||a[3]!==c?(i=()=>c({commentsPreference:d?T.sI.Visible:T.sI.Collapsed}),a[2]=d,a[3]=c,a[4]=i):i=a[4],a[5]!==d||a[6]!==i?(l=(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)(o.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,n.jsx)(o.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:i,children:"Minimize comments"})})]}),a[5]=d,a[6]=i,a[7]=l):l=a[7],l}function $(){}function W(){}try{k.displayName||(k.displayName="DiffCommentsPreferenceToggle")}catch{}function A(e){let t,i,c,d,f,h,m,u,p,x,g,y=(0,r.c)(23),{invisible:j,lineSpacingPreferenceAvailable:b,onUpdateWhitespace:S,reloadOnSplitPreferenceChange:_,reloadOnWhitespaceChange:N,small:w}=e,F=void 0===b||b,D=void 0!==_&&_,I=void 0!==N&&N,P=void 0===j||j?"Button--invisible":"Button--secondary",T=w&&"Button--small";return y[0]!==P||y[1]!==T?(t=(0,s.$)("Button Button--iconOnly",P,T),y[0]=P,y[1]=T,y[2]=t):t=y[2],y[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(l.GearIcon,{}),y[3]=i):i=y[3],y[4]!==t?(c=(0,n.jsx)(a.W.Anchor,{children:(0,n.jsx)("button",{className:t,"aria-label":"Open diff view settings",children:i})}),y[4]=t,y[5]=c):c=y[5],y[6]!==D?(d=(0,n.jsx)(E,{reloadOnChange:D}),y[6]=D,y[7]=d):d=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(k,{}),h=(0,n.jsx)(o.l.Divider,{}),y[8]=f,y[9]=h):(f=y[8],h=y[9]),y[10]!==F||y[11]!==S||y[12]!==I?(m=(0,n.jsx)(C,{lineSpacingPreferenceAvailable:F,onUpdateWhitespace:S,reloadOnChange:I}),y[10]=F,y[11]=S,y[12]=I,y[13]=m):m=y[13],y[14]!==d||y[15]!==m?(u=(0,n.jsx)(a.W.Overlay,{children:(0,n.jsxs)(o.l,{children:[d,f,h,m]})}),y[14]=d,y[15]=m,y[16]=u):u=y[16],y[17]!==u||y[18]!==c?(p=(0,n.jsxs)(a.W,{children:[c,u]}),y[17]=u,y[18]=c,y[19]=p):p=y[19],y[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)(v,{}),y[20]=x):x=y[20],y[21]!==p?(g=(0,n.jsxs)(n.Fragment,{children:[p,x]}),y[21]=p,y[22]=g):g=y[22],g}try{A.displayName||(A.displayName="DiffViewSettings")}catch{}},63869:(e,t,i)=>{i.d(t,{L:()=>s});var n=i(74848),r=i(21728),l=i(38621),a=i(87330),o=i(34164);let s=i(96540).forwardRef((e,t)=>{let i,s,c,d=(0,r.c)(17),{expanded:f,testid:h,ariaLabel:m,ariaControls:u,onToggleExpanded:p,alignment:x,dataHotkey:g,className:y,size:j,tooltipDirection:b,variant:v}=e,S=f?`collapse-${h}`:`expand-${h}`,_=f?"left"===x?l.SidebarExpandIcon:l.SidebarCollapseIcon:"left"===x?l.SidebarCollapseIcon:l.SidebarExpandIcon;d[0]!==p?(i=e=>{p(e)},d[0]=p,d[1]=i):i=d[1];let N=v??"invisible";return d[2]!==y?(s=(0,o.$)(y,"fgColor-muted"),d[2]=y,d[3]=s):s=d[3],d[4]!==u||d[5]!==m||d[6]!==g||d[7]!==f||d[8]!==t||d[9]!==j||d[10]!==S||d[11]!==_||d[12]!==i||d[13]!==N||d[14]!==s||d[15]!==b?(c=(0,n.jsx)(a.K,{"aria-label":m,tooltipDirection:b,ref:t,"data-testid":S,"aria-expanded":f,"aria-controls":u,icon:_,"data-hotkey":g,onClick:i,variant:N,size:j,className:s}),d[4]=u,d[5]=m,d[6]=g,d[7]=f,d[8]=t,d[9]=j,d[10]=S,d[11]=_,d[12]=i,d[13]=N,d[14]=s,d[15]=b,d[16]=c):c=d[16],c});s.displayName="ExpandButton"}}]);
//# sourceMappingURL=ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commits_shared_use-tree-pane_tsx-u-59d336-364e5bb535fd.js.map