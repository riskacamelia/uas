"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_diffs_diff-parts_ts-ui_packages_diffs_document-hash-helpers_ts-ui_packages_commen-65a874"],{87591:(e,t,i)=>{function l(e){return`line-${e}`}function n(e,t,i){return`${e}${"left"===t?"L":"R"}${i}`}function a(e){return"DELETION"===e?"left":"right"}function r(e,t=!1,i=!1){if(i)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function s(e){let t=0;if(e)for(let i of e)t=Math.max(t,i?.left??0,i?.right??0);return Math.max(8*t.toString().length+20,40).toString()}i.d(t,{IQ:()=>n,Sq:()=>l,XU:()=>a,c7:()=>s,gK:()=>r})},91215:(e,t,i)=>{i.d(t,{Jg:()=>c,nq:()=>h,uP:()=>u.u,$e:()=>y,P3:()=>p,wj:()=>b,l4:()=>_,Qe:()=>g,Ah:()=>T});var l=i(74848),n=i(21728),a=i(34164),r=i(45968),s=i(87591);let o=e=>{let t,i,o,d,c,f,h,u,m,p,x=(0,n.c)(34),{dragging:y,isHighlighted:b,isLeftColumn:g,colSpan:N,line:j,lineAnchor:v}=e,C=j.html,_="";if(["ADDITION","DELETION"].includes(j.type)&&["+","-"].includes(C[0])){let e;_=C[0],x[0]!==C?(e=C.slice(1),x[0]=C,x[1]=e):e=x[1],C=e}let L=y&&b,T=g&&"HUNK"!==j.type;x[2]!==L||x[3]!==T?(t=(0,a.$)("diff-text-cell",{"border-left color-border-accent-emphasis":L,"border-right":T}),x[2]=L,x[3]=T,x[4]=t):t=x[4],x[5]!==v?(i=v?(0,s.Sq)(v):void 0,x[5]=v,x[6]=i):i=x[6],x[7]!==b||x[8]!==j.type?(o=(0,s.gK)(j.type,!1,b),x[7]=b,x[8]=j.type,x[9]=o):o=x[9],x[10]!==o?(d={backgroundColor:o},x[10]=o,x[11]=d):d=x[11];let I=_,S="ADDITION"===j.type,D="DELETION"===j.type;x[12]!==S||x[13]!==D?(c=(0,a.$)("diff-text syntax-highlighted-line",{addition:S,deletion:D}),x[12]=S,x[13]=D,x[14]=c):c=x[14];let k=e.lineChild,w="HUNK"===j.type;x[15]!==w?(f=(0,a.$)("diff-text-inner",{"color-fg-muted":w}),x[15]=w,x[16]=f):f=x[16];let O="CONTEXT"===j.type?"-7px":void 0;return x[17]!==O?(h={marginLeft:O},x[17]=O,x[18]=h):h=x[18],x[19]!==C||x[20]!==f||x[21]!==h?(u=(0,l.jsx)(r.$6,{className:f,html:C,style:h}),x[19]=C,x[20]=f,x[21]=h,x[22]=u):u=x[22],x[23]!==_||x[24]!==e.lineChild||x[25]!==u||x[26]!==c?(m=(0,l.jsxs)("code",{"data-code-marker":I,className:c,children:[k,u]}),x[23]=_,x[24]=e.lineChild,x[25]=u,x[26]=c,x[27]=m):m=x[27],x[28]!==N||x[29]!==m||x[30]!==t||x[31]!==i||x[32]!==d?(p=(0,l.jsx)("td",{className:t,colSpan:N,id:i,style:d,children:m}),x[28]=N,x[29]=m,x[30]=t,x[31]=i,x[32]=d,x[33]=p):p=x[33],p};try{o.displayName||(o.displayName="DiffText")}catch{}let d=e=>{let t,i,r,o,d,c,f,h,u,m,p,x,y,b=(0,n.c)(30);b[0]!==e?({ariaLabel:t,children:i,hasExpanderButton:o,lineType:f,colSpan:r,interactiveProps:d,isHighlighted:c,...h}=e,b[0]=e,b[1]=t,b[2]=i,b[3]=r,b[4]=o,b[5]=d,b[6]=c,b[7]=f,b[8]=h):(t=b[1],i=b[2],r=b[3],o=b[4],d=b[5],c=b[6],f=b[7],h=b[8]),b[9]!==i?(u=(0,l.jsx)("code",{className:"pr-2",children:i}),b[9]=i,b[10]=u):u=b[10];let g=u;if(d){let e;b[11]!==t||b[12]!==d||b[13]!==g?(e=(0,l.jsx)("button",{className:"diff-line-number-button",...d,"aria-label":t,children:g}),b[11]=t,b[12]=d,b[13]=g,b[14]=e):e=b[14],g=e}let N=d?void 0:t,j=!!d;b[15]!==o||b[16]!==j?(m=(0,a.$)("diff-line-number",{"has-expander":o,clickable:j}),b[15]=o,b[16]=j,b[17]=m):m=b[17];let v=r||1;return b[18]!==c||b[19]!==f?(p=(0,s.gK)(f,!0,c),b[18]=c,b[19]=f,b[20]=p):p=b[20],b[21]!==p?(x={backgroundColor:p},b[21]=p,b[22]=x):x=b[22],b[23]!==h||b[24]!==N||b[25]!==m||b[26]!==v||b[27]!==x||b[28]!==g?(y=(0,l.jsx)("td",{"aria-label":N,"data-line-number":!0,className:m,colSpan:v,style:x,...h,children:g}),b[23]=h,b[24]=N,b[25]=m,b[26]=v,b[27]=x,b[28]=g,b[29]=y):y=b[29],y};try{d.displayName||(d.displayName="LineNumber")}catch{}let c=e=>{let t,i,a,r,s=(0,n.c)(28),{dragging:c,isHighlighted:f,isLeftColumn:h,isSplit:u,lineAnchor:m,line:p,lineChild:x,onLineNumberClick:y}=e,b="CONTEXT"===p.type||"INJECTED_CONTEXT"===p.type,g="ADDITION"!==p.type,N=g||!u,j="DELETION"!==p.type,v=j&&!b||!u,C=u&&b?h?p.left:p.right:p.left;return s[0]!==C||s[1]!==f||s[2]!==p.left||s[3]!==p.right||s[4]!==p.type||s[5]!==y||s[6]!==g||s[7]!==N?(t=N&&(0,l.jsx)(d,{ariaLabel:`Line ${g?p.left?.toString():p.right?.toString()}`,lineType:p.type,interactiveProps:y?{onClick:y}:null,isHighlighted:f,children:g&&C}),s[0]=C,s[1]=f,s[2]=p.left,s[3]=p.right,s[4]=p.type,s[5]=y,s[6]=g,s[7]=N,s[8]=t):t=s[8],s[9]!==f||s[10]!==p.left||s[11]!==p.right||s[12]!==p.type||s[13]!==y||s[14]!==j||s[15]!==v?(i=v&&(0,l.jsx)(d,{ariaLabel:`Line ${j?p.right?.toString():p.left?.toString()}`,lineType:p.type,interactiveProps:y?{onClick:y}:null,isHighlighted:f,children:j&&p.right}),s[9]=f,s[10]=p.left,s[11]=p.right,s[12]=p.type,s[13]=y,s[14]=j,s[15]=v,s[16]=i):i=s[16],s[17]!==c||s[18]!==f||s[19]!==h||s[20]!==p||s[21]!==m||s[22]!==x?(a=(0,l.jsx)(o,{dragging:c,isHighlighted:f,isLeftColumn:h,line:p,lineAnchor:m,lineChild:x}),s[17]=c,s[18]=f,s[19]=h,s[20]=p,s[21]=m,s[22]=x,s[23]=a):a=s[23],s[24]!==t||s[25]!==i||s[26]!==a?(r=(0,l.jsxs)(l.Fragment,{children:[t,i,a]}),s[24]=t,s[25]=i,s[26]=a,s[27]=r):r=s[27],r};try{c.displayName||(c.displayName="DiffLinePart")}catch{}var f=i(75177);function h(){let e,t,i,a=(0,n.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e={bottom:"0 !important",clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"84px",position:"absolute",width:"320px"},a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(f.A,{"aria-hidden":"true",as:"svg",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",sx:e,children:(0,l.jsxs)("defs",{children:[t,(0,l.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,l.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,l.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,l.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})}),a[2]=i):i=a[2],i}try{h.displayName||(h.displayName="DiffPlaceholder")}catch{}var u=i(42597);i(24965);var m=i(38621);function p(e){let t,i,a,r=(0,n.c)(10),{currentLine:s,hunkButton:c,isLeftColumn:f,isSplit:h}=e;if(h&&!f)return null;r[0]!==s.type||r[1]!==c||r[2]!==h?(t=c?(0,l.jsx)(d,{colSpan:h?1:2,hasExpanderButton:!0,lineType:s.type,children:c}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{lineType:s.type,children:(0,l.jsx)(m.KebabHorizontalIcon,{})}),!h&&(0,l.jsx)(d,{lineType:s.type,children:(0,l.jsx)(m.KebabHorizontalIcon,{})})]}),r[0]=s.type,r[1]=c,r[2]=h,r[3]=t):t=r[3];let u=h?3:void 0;return r[4]!==s||r[5]!==u?(i=(0,l.jsx)(o,{isHighlighted:!1,isLeftColumn:!0,colSpan:u,line:s}),r[4]=s,r[5]=u,r[6]=i):i=r[6],r[7]!==t||r[8]!==i?(a=(0,l.jsxs)(l.Fragment,{children:[t,i]}),r[7]=t,r[8]=i,r[9]=a):a=r[9],a}try{p.displayName||(p.displayName="HunkHeaderDiffLine")}catch{}function x(){let e,t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,l.jsx)(m.KebabHorizontalIcon,{})}),t[0]=e):e=t[0],e}try{x.displayName||(x.displayName="HunkKebabIcon")}catch{}function y(e){let t,i,r,s=(0,n.c)(5),{isLeftColumn:o}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(d,{lineType:"EMPTY"}),s[0]=t):t=s[0],s[1]!==o?(i=(0,a.$)("empty-diff-line",{"border-right":o}),s[1]=o,s[2]=i):i=s[2],s[3]!==i?(r=(0,l.jsxs)(l.Fragment,{children:[t,(0,l.jsx)("td",{className:i,colSpan:1})]}),s[3]=i,s[4]=r):r=s[4],r}try{y.displayName||(y.displayName="EmptyDiffLine")}catch{}function b(e){let t,i,a,r,s,o,d,c,f=(0,n.c)(15);return f[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Original file line"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),f[0]=t):t=f[0],f[1]!==e.lineWidth?(i=(0,l.jsx)("col",{width:e.lineWidth}),f[1]=e.lineWidth,f[2]=i):i=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)("col",{}),f[3]=a):a=f[3],f[4]!==e.lineWidth?(r=(0,l.jsx)("col",{width:e.lineWidth}),f[4]=e.lineWidth,f[5]=r):r=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)("col",{}),f[6]=s):s=f[6],f[7]!==i||f[8]!==r?(o=(0,l.jsxs)("colgroup",{children:[i,a,r,s]}),f[7]=i,f[8]=r,f[9]=o):o=f[9],f[10]!==e.children?(d=(0,l.jsx)("tbody",{children:e.children}),f[10]=e.children,f[11]=d):d=f[11],f[12]!==o||f[13]!==d?(c=(0,l.jsxs)(l.Fragment,{children:[t,o,d]}),f[12]=o,f[13]=d,f[14]=c):c=f[14],c}try{b.displayName||(b.displayName="SplitDiffTable")}catch{}function g(e){let t,i,a,r,s,o,d,c=(0,n.c)(13);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),c[0]=t):t=c[0],c[1]!==e.lineWidth?(i=(0,l.jsx)("col",{width:e.lineWidth}),a=(0,l.jsx)("col",{width:e.lineWidth}),c[1]=e.lineWidth,c[2]=i,c[3]=a):(i=c[2],a=c[3]),c[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)("col",{width:"100%"}),c[4]=r):r=c[4],c[5]!==i||c[6]!==a?(s=(0,l.jsxs)("colgroup",{children:[i,a,r]}),c[5]=i,c[6]=a,c[7]=s):s=c[7],c[8]!==e.children?(o=(0,l.jsx)("tbody",{children:e.children}),c[8]=e.children,c[9]=o):o=c[9],c[10]!==s||c[11]!==o?(d=(0,l.jsxs)(l.Fragment,{children:[t,s,o]}),c[10]=s,c[11]=o,c[12]=d):d=c[12],d}try{g.displayName||(g.displayName="UnifiedDiffTable")}catch{}let N={diffTextCell:"UnifiedDiffLines-module__diffTextCell--UAuIr",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--qPkzg",diffHunkText:"UnifiedDiffLines-module__diffHunkText--Sfwuu",diffTextInner:"UnifiedDiffLines-module__diffTextInner--IuEAA",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--MdAo4",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--lU_S2",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--xgQwN",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--bzzxf",unifiedDiffLines:"UnifiedDiffLines-module__unifiedDiffLines--SSvV2"};function j(e){let t,i,a,r,o=(0,n.c)(9),{line:d,children:c}=e;return o[0]!==d.type?(t=(0,s.gK)(d.type,!0),o[0]=d.type,o[1]=t):t=o[1],o[2]!==t?(i={backgroundColor:t,textAlign:"center"},o[2]=t,o[3]=i):i=o[3],o[4]!==c?(a=(0,l.jsx)("code",{children:c}),o[4]=c,o[5]=a):a=o[5],o[6]!==i||o[7]!==a?(r=(0,l.jsx)("td",{className:N.diffLineNumber,style:i,children:a}),o[6]=i,o[7]=a,o[8]=r):r=o[8],r}function v(e){let t,i,s,o=(0,n.c)(4),{line:d}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(x,{}),o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.$)(N.diffTextInner,"color-fg-muted"),o[1]=i):i=o[1];let c=d.html;return o[2]!==c?(s=(0,l.jsx)("td",{colSpan:4,className:N.diffHunkCell,valign:"top",children:(0,l.jsxs)("div",{className:"d-flex flex-row",children:[t,(0,l.jsx)("code",{className:N.diffHunkText,children:(0,l.jsx)(r.$6,{className:i,html:c})})]})}),o[2]=c,o[3]=s):s=o[3],s}function C(e){let t,i,o,d=(0,n.c)(13),{line:c}=e,f="HUNK"===c.type,h="ADDITION"!==c.type,u="DELETION"!==c.type,m="ADDITION"===c.type?"+":"DELETION"===c.type?"-":void 0,p=!!m;return d[0]!==f||d[1]!==c?(t=f&&(0,l.jsx)(v,{line:c}),d[0]=f,d[1]=c,d[2]=t):t=d[2],d[3]!==f||d[4]!==c||d[5]!==m||d[6]!==h||d[7]!==p||d[8]!==u?(i=!f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j,{line:c,children:h&&c.left}),(0,l.jsx)(j,{line:c,children:u&&c.right}),(0,l.jsx)("td",{className:N.diffTextCell,style:{backgroundColor:(0,s.gK)(c.type,!1)},children:(0,l.jsxs)("code",{className:(0,a.$)("ADDITION"===c.type&&N.syntaxHighlightedAdditionLine,"DELETION"===c.type&&N.syntaxHighlightedDeletionLine),children:[p&&(0,l.jsx)("span",{className:N.diffTextMarker,children:m}),(0,l.jsx)(r.$6,{className:N.diffTextInner,html:c.html,style:{backgroundColor:(0,s.gK)(c.type,!1)}})]})})]}),d[3]=f,d[4]=c,d[5]=m,d[6]=h,d[7]=p,d[8]=u,d[9]=i):i=d[9],d[10]!==t||d[11]!==i?(o=(0,l.jsxs)("tr",{children:[t,i]}),d[10]=t,d[11]=i,d[12]=o):o=d[12],o}function _(e){let t,i,r,s,o=(0,n.c)(14),{className:d,lines:c,lineWidth:f,tabSize:h}=e;if(o[0]!==c||o[1]!==h){let e;o[3]!==h?(e=(e,t)=>(0,l.jsx)(C,{line:e,tabSize:h},t),o[3]=h,o[4]=e):e=o[4],t=c.map(e),o[0]=c,o[1]=h,o[2]=t}else t=o[2];let u=t;return o[5]!==d?(i=(0,a.$)(N.unifiedDiffLines,d,"tab-size"),o[5]=d,o[6]=i):i=o[6],o[7]!==u||o[8]!==f?(r=(0,l.jsx)(g,{lineWidth:f,children:u}),o[7]=u,o[8]=f,o[9]=r):r=o[9],o[10]!==i||o[11]!==r||o[12]!==h?(s=(0,l.jsx)("table",{className:i,"data-tab-size":h,children:r}),o[10]=i,o[11]=r,o[12]=h,o[13]=s):s=o[13],s}try{j.displayName||(j.displayName="LineNumberCell")}catch{}try{v.displayName||(v.displayName="HunkCell")}catch{}try{C.displayName||(C.displayName="UnifiedDiffRow")}catch{}try{_.displayName||(_.displayName="UnifiedDiffLines")}catch{}function L(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function T({startDiffSide:e,endDiffSide:t,originalStartLine:i,originalEndLine:l}){return e&&t&&"number"==typeof i&&"number"==typeof l?0===i&&1===l&&e===t?"-1 to +1":e===t&&i===l?`${L(e)}${i}`:`${L(e)}${i} to ${L(t)}${l}`:""}},84483:(e,t,i)=>{i.d(t,{Dd:()=>c,EW:()=>a,ZD:()=>f,i8:()=>h,j$:()=>u,jU:()=>d,o9:()=>m,pd:()=>s,yI:()=>o});var l=i(66871),n=i(96679);function a(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let i=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=i&&6===i.length?i:null}function r(e,t){return`${"left"===t?"L":"R"}${e}`}function s(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function o(e){return!!(a(e)||a(`diff-${e}`))&&(e.includes("R")||e.includes("L"))}function d(e){if(!(s(e)||s(`diff-${e}`)))return;let t=e.replace("#","").replace("diff-","");return t.includes("-")&&(t=t.split("-")[0]??""),t.includes("L")&&(t=t.split("L")[0]??""),t.includes("R")&&(t=t.split("R")[0]??""),t}function c(e){let t=e.match(/^#?(r\d+)/),i=t?.[1];return i?parseInt(i.slice(1)):void 0}function f(e){let t=a(e);if(t){let e=t[1],i=t[2]?"L"===t[2]?"left":"right":void 0,l=t[3]?parseInt(t[3]):void 0;if(!e||!i||void 0===l)return;return{diffAnchor:e,startOrientation:i,startLineNumber:l,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??i,endLineNumber:(t[5]?parseInt(t[5]):void 0)??l,firstSelectedLineNumber:l,firstSelectedOrientation:i}}}function h(e){!function(e){let t=`#${e}`;if(t===window.location.hash)return;let i=window.location.href;(0,l.Zu)(t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:i}))}(u(e))}function u(e){let t=r(e.startLineNumber,e.startOrientation),i=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=r(e.endLineNumber,e.endOrientation);i+=`-${t}`}return i}function m(){let e=a(n.fV.hash??"")??"",t="";return(""===e?s(n.fV.hash??"")??"":e?.[0]??"").replace("#","").replace("diff-","")}},63236:(e,t,i)=>{i.d(t,{z:()=>r});var l=i(74848),n=i(96540);let a={CompactCommentInputContainer:"CompactCommentButton-module__CompactCommentInputContainer--WNtZq"},r=(0,n.forwardRef)(({onClick:e,id:t,children:i},n)=>(0,l.jsx)("button",{type:"button",id:t,ref:n,onClick:e,className:a.CompactCommentInputContainer,children:i}));r.displayName="CompactCommentButton"},17723:(e,t,i)=>{i.d(t,{Z:()=>_});var l=i(74848),n=i(21728),a=i(70179),r=i(96679),s=i(96540),o=i(38621),d=i(87330),c=i(9852),f=i(19797),h=i(73451),u=i(19647),m=i(55847),p=i(65607);let x=[{label:"Comment is harmful or unsafe",value:"OFFENSIVE_OR_DISCRIMINATORY"},{label:"Comment is poorly formatted",value:"POORLY_FORMATTED"},{label:"Comment is not true",value:"INCORRECT"},{label:"Comment is not helpful",value:"UNHELPFUL"},{label:"Comment is attached to the wrong line(s)",value:"INCORRECT_LINE"},{label:"Code suggestion is harmful or unsafe",value:"SUGGESTION_OFFENSIVE_OR_DISCRIMINATORY"},{label:"Code suggestion is poorly formatted",value:"SUGGESTION_POORLY_FORMATTED"},{label:"Code suggestion does not solve the problem in the comment",value:"SUGGESTION_UNHELPFUL"},{label:"Code suggestion is invalid",value:"SUGGESTION_INVALID"}],y=e=>{let t,i,a,r,o=(0,n.c)(16),{commentId:d,onClose:p,onSubmit:y,feedbackOptions:g,returnFocusRef:N}=e,j=void 0===g?x:g,[v,C]=(0,s.useState)(!1);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],o[0]=t):t=o[0];let[_,L]=(0,s.useState)(t),[T,I]=(0,s.useState)("");o[1]!==d||o[2]!==_||o[3]!==y||o[4]!==T?(i=e=>{e.preventDefault(),C(!0),_.length&&y({commentId:d,type:"NEGATIVE",feedbackChoice:_,textResponse:T})},o[1]=d,o[2]=_,o[3]=y,o[4]=T,o[5]=i):i=o[5];let S=i;return o[6]!==v||o[7]!==_||o[8]!==j||o[9]!==S||o[10]!==T?(a=()=>(0,l.jsxs)("form",{onSubmit:S,children:[(0,l.jsxs)(c.l.Body,{children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsxs)(f.A,{onChange:L,required:!0,children:[(0,l.jsx)(f.A.Label,{children:"Category"}),j.map(b),v&&!_&&(0,l.jsx)(f.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,l.jsxs)(h.A,{id:"text_response",children:[(0,l.jsx)(h.A.Label,{children:"How should we improve this response?"}),(0,l.jsx)(u.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:T,resize:"vertical",onChange:e=>I(e.currentTarget.value)})]})]}),(0,l.jsx)(c.l.Footer,{children:(0,l.jsx)(m.Q,{type:"submit",disabled:v&&(!T||!_),children:"Submit"})})]}),o[6]=v,o[7]=_,o[8]=j,o[9]=S,o[10]=T,o[11]=a):a=o[11],o[12]!==p||o[13]!==N||o[14]!==a?(r=(0,l.jsx)(c.l,{onClose:p,title:"Provide additional feedback",subtitle:"Please help us improve GitHub Copilot by sharing more details about this comment.",returnFocusRef:N,renderBody:a}),o[12]=p,o[13]=N,o[14]=a,o[15]=r):r=o[15],r};try{y.displayName||(y.displayName="NegativeFeedbackForm")}catch{}function b(e){return(0,l.jsxs)(h.A,{id:`feedback_choice_${e.value}`,children:[(0,l.jsx)(p.A,{value:e.value}),(0,l.jsx)(h.A.Label,{children:e.label})]},e.value)}let g=e=>{let t,i,a=(0,n.c)(6),{onClick:r,commentId:s,disabled:c}=e;return a[0]!==s||a[1]!==r?(t=()=>r({type:"POSITIVE",commentId:s}),a[0]=s,a[1]=r,a[2]=t):t=a[2],a[3]!==c||a[4]!==t?(i=(0,l.jsx)(d.K,{size:"small",variant:"invisible",disabled:c,icon:o.ThumbsupIcon,title:"Positive Feedback","aria-label":"Positive Feedback",onClick:t}),a[3]=c,a[4]=t,a[5]=i):i=a[5],i},N=e=>{let t,i,a,r,c,f=(0,n.c)(13),{onClick:h,commentId:u,disabled:m,feedbackOptions:p}=e,[x,b]=(0,s.useState)(!1),g=(0,s.useRef)(null);f[0]!==h?(t=e=>{h(e),b(!1)},f[0]=h,f[1]=t):t=f[1];let N=t;return f[2]!==u||f[3]!==x||f[4]!==p||f[5]!==N?(i=x&&(0,l.jsx)(y,{onClose:()=>b(!1),onSubmit:N,commentId:u,feedbackOptions:p,returnFocusRef:g}),f[2]=u,f[3]=x,f[4]=p,f[5]=N,f[6]=i):i=f[6],f[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>b(!0),f[7]=a):a=f[7],f[8]!==m?(r=(0,l.jsx)(d.K,{ref:g,size:"small",variant:"invisible",disabled:m,icon:o.ThumbsdownIcon,title:"Negative Feedback","aria-label":"Negative Feedback",onClick:a}),f[8]=m,f[9]=r):r=f[9],f[10]!==i||f[11]!==r?(c=(0,l.jsxs)(l.Fragment,{children:[i,r]}),f[10]=i,f[11]=r,f[12]=c):c=f[12],c};try{g.displayName||(g.displayName="PositiveFeedbackButton")}catch{}try{N.displayName||(N.displayName="NegativeFeedbackButton")}catch{}var j=i(60039);let v=({path:e,additionalParameters:t})=>(0,s.useCallback)(({type:i,commentId:l,feedbackChoice:n,textResponse:a})=>{try{let r=new FormData;if(r.set("comment_id",l),r.set("feedback",i),t)for(let[e,i]of Object.entries(t))r.set(e,i);for(let e of n??[])r.append("feedback_choice[]",e);a&&r.set("text_response",a),(0,j.DI)(e,{method:"POST",body:r})}catch{}},[e,t]),C=e=>{let t,i,a,o,d,c,f=(0,n.c)(18),{commentId:h,commentUrl:u,feedbackPath:m,feedbackOptions:p,additionalParameters:x}=e,[y,b]=(0,s.useState)();e:{if(m){t=m;break e}if(u){let e=new URL(u,r.fV.origin);e.hash="",t=`${e}/code_review_feedback`;break e}throw Error("missing feedbackPath and commentUrl")}let j=t;f[0]!==x||f[1]!==j?(i={path:j,additionalParameters:x},f[0]=x,f[1]=j,f[2]=i):i=f[2];let C=v(i);f[3]!==C?(a=e=>{b(e.type),C(e)},f[3]=C,f[4]=a):a=f[4];let _=a,L=`copilot-code-review-feedback-${h}`;return f[5]!==h||f[6]!==_||f[7]!==y?(o="NEGATIVE"!==y&&(0,l.jsx)(g,{disabled:!!y,commentId:h,onClick:_}),f[5]=h,f[6]=_,f[7]=y,f[8]=o):o=f[8],f[9]!==h||f[10]!==p||f[11]!==_||f[12]!==y?(d="POSITIVE"!==y&&(0,l.jsx)(N,{disabled:!!y,onClick:_,commentId:h,feedbackOptions:p}),f[9]=h,f[10]=p,f[11]=_,f[12]=y,f[13]=d):d=f[13],f[14]!==L||f[15]!==o||f[16]!==d?(c=(0,l.jsxs)("div",{"data-testid":L,className:"d-flex gap-1",children:[o,d]}),f[14]=L,f[15]=o,f[16]=d,f[17]=c):c=f[17],c},_=e=>{let t,i=(0,n.c)(2);return i[0]!==e?(t=(0,l.jsx)(a.t,{fallback:null,children:(0,l.jsx)(C,{...e})}),i[0]=e,i[1]=t):t=i[1],t};try{C.displayName||(C.displayName="Feedback")}catch{}try{_.displayName||(_.displayName="CopilotCodeReviewFeedback")}catch{}},42597:(e,t,i)=>{i.d(t,{u:()=>s});var l=i(74848),n=i(21728),a=i(34164);let r={diffSquare:"DiffSquares-module__diffSquare--h5kjy",addition:"DiffSquares-module__addition--jeNtt",deletion:"DiffSquares-module__deletion--hKV3q",neutral:"DiffSquares-module__neutral--VlyoP"};function s(e){let t,i,a=(0,n.c)(4),{squares:r}=e;return a[0]!==r?(t=r.map(o),a[0]=r,a[1]=t):t=a[1],a[2]!==t?(i=(0,l.jsx)("div",{className:"d-flex",children:t}),a[2]=t,a[3]=i):i=a[3],i}function o(e,t){return(0,l.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,a.$)(r.diffSquare,r[e])},t)}try{s.displayName||(s.displayName="DiffSquares")}catch{}},24965:(e,t,i)=>{i.d(t,{z:()=>s});var l=i(74848),n=i(21728),a=i(42597);let r={addition:"addition",deletion:"deletion",neutral:"neutral"};function s(e){let t,i,s,o,d,c,f,h=(0,n.c)(20),{linesAdded:u,linesDeleted:m,linesChanged:p}=e,x=void 0===u?0:u,y=void 0===m?0:m,b=void 0===p?0:p;if(!x&&!y&&!b||0===b)return null;if(h[0]!==x||h[1]!==b||h[2]!==y){let{greenSquares:e,redSquares:i,graySquares:l}=function(e,t,i){let l=i>5?5/i:1,n=Math.floor(e*l),a=Math.floor(t*l);return{greenSquares:n,redSquares:a,graySquares:5-n-a}}(x,y,b);t=[...Array(e).fill(r.addition),...Array(i).fill(r.deletion),...Array(l).fill(r.neutral)],h[0]=x,h[1]=b,h[2]=y,h[3]=t}else t=h[3];let g=t;return h[4]!==x?(i=x>0&&(0,l.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-success",children:["+",x.toLocaleString()]}),h[4]=x,h[5]=i):i=h[5],h[6]!==y?(s=y>0&&(0,l.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-danger",children:["-",y.toLocaleString()]}),h[6]=y,h[7]=s):s=h[7],h[8]!==x||h[9]!==y?(o=function({linesAdded:e,linesDeleted:t}){let i="Lines changed: ";return i+`${e} ${1===e?"addition":"additions"} & ${t} ${1===t?"deletion":"deletions"}`}({linesAdded:x,linesDeleted:y}),h[8]=x,h[9]=y,h[10]=o):o=h[10],h[11]!==o?(d=(0,l.jsx)("span",{className:"sr-only",children:o}),h[11]=o,h[12]=d):d=h[12],h[13]!==g?(c=(0,l.jsx)(a.u,{squares:g}),h[13]=g,h[14]=c):c=h[14],h[15]!==i||h[16]!==s||h[17]!==d||h[18]!==c?(f=(0,l.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[i,s,d,c]}),h[15]=i,h[16]=s,h[17]=d,h[18]=c,h[19]=f):f=h[19],f}try{s.displayName||(s.displayName="DiffStats")}catch{}},75062:(e,t,i)=>{i.d(t,{e:()=>a});var l=i(74848),n=i(94232);function a(){return(0,l.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,l.jsx)(n.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{a.displayName||(a.displayName="ReactionViewerLoading")}catch{}}}]);
//# sourceMappingURL=ui_packages_diffs_diff-parts_ts-ui_packages_diffs_document-hash-helpers_ts-ui_packages_commen-65a874-4ad91518b924.js.map